function escapeHtml(e){let r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,function(e){return r[e]})}function objectToArray(e){let r=[],t=[],o=Object.keys(e);o.sort(function(e,r){return e-r});for(let n=0;n<o.length;n++)r.push(e[o[n]]),t.push(o[n]);return[t,r]}function jsonParse(e){return""!=e&&!!/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))}function consoleLog(e,r="#fff"){console.log("%cForward: %c"+e,"color:#dc3545;font-weight: bold;","color: "+r)}function __T(e){return"undefined"==typeof translator?e:0==translator.length?e:e in translator?translator[e]:e}function platformTranslator(e){switch(e){case __T("unknown"):return"Unknown";case"windows_10":return"Windows 10";case"windows_81":return"Windows 8.1";case"windows_8":return"Windows 8";case"windows_7":return"Windows 7";case"windows_vista":return"Windows Vista";case"windows_xp":return"Windows XP";case"windows":return"Windows (?)";case"windows_ce":return"Windows CE";case"apple":return"Apple iMac / MacBook";case"linux":return"Linux";case"os_2":return"OS/2";case"beos":return"BeOS";case"iphone":return"Apple iPhone";case"ipod":return"Apple iPod";case"ipad":return"Apple iPad";case"apple_tv":return"Apple TV";case"blackberry":return"BlackBerry";case"nokia":return"Nokia";case"freebsd":return"FreeBSD";case"openbsd":return"OpenBSD";case"netbsd":return"NetBSD";case"sunos":return"SunOS";case"opensolaris":return"Open Solaris";case"android":return"Android";case"sony_playstation":return"Sony PlayStation";case"roku":return"Roku";case"terminal":return"Terminal";case"fire_os":return"Fire OS";case"smart_tv":return"Smart TV";case"chrome_os":return"Chrome OS";case"java_android":return"Java / Android";case"postman":return"Postman";case"iframely":return"iFramely";default:return e}}function agentTranslator(e){switch(e){case __T("unknown"):return"Unknown";case"chrome":return"Google Chrome";case"firefox":return"Mozilla Firefox";case"edge":return"MS Edge";case"opera":return"Opera";case"internet_explorer":return"MS Internet Explorer";case"iphone":return"iPhone Safari";case"safari":return"Safari";default:return e}}function originTranslator(e){switch(e){case __T("unknown"):return"Unknown";case"direct":return"Email / SMS / Direct";case"www.facebook.com":return"Facebook";case"www.youtube.com":return"YouTube";default:return e}}function languageTranslator(e){switch(e){case __T("en-us"):return"English (United States)";case"en-gb":return"English (United Kingdom)";case"www.facebook.com":return"Facebook";case"www.youtube.com":return"YouTube";default:return e}}function isMobile(){return 992>jQuery("html").height()}function themeFunctions(){consoleLog("The main functions of the theme have loaded correctly."),"install"==forward.pagenow?pageInstall():"dashboard"==forward.pagenow?pageDashboard():"login"==forward.pagenow?pageLogin():consoleLog("This page has no special functions.")}function pageInstall(){consoleLog("The functions for page Install have been loaded."),jQuery("#input_user_password").on("change paste keyup",function(){let e=jQuery(this).val(),r=zxcvbn(e);""!==e?jQuery(".def_password--strength").html("Strength: <strong>"+{0:"Worst â˜¹",1:"Bad â˜¹",2:"Weak â˜¹",3:"Good ðŸ™ƒ",4:"Strong ðŸ™‚"}[r.score]+"</strong><br/><span class='feedback'>"+r.feedback.warning+" "+r.feedback.suggestions+"</span"):jQuery(".def_password--strength").html("")}),jQuery("#install-forward").on("click",function(e){e.preventDefault(),jQuery("#install-forward").attr("disabled","disabled"),jQuery("#install-form > div, #install-forward, #install-form-alert").fadeOut(200),jQuery("#install-form").slideUp(400,function(){jQuery("#install-progress").slideDown(400)}),jQuery.ajax({url:forward.baseurl,type:"post",data:{action:"setup",input_scriptname:jQuery("#input_scriptname").val(),input_baseuri:jQuery("#input_baseuri").val(),input_db_name:jQuery("#input_db_name").val(),input_db_user:jQuery("#input_db_user").val(),input_db_host:jQuery("#input_db_host").val(),input_db_password:jQuery("#input_db_password").val(),input_user_name:jQuery("#input_user_name").val(),input_user_password:jQuery("#input_user_password").val()},success:function(e){if(console.log(e),jsonParse(e)&&null!=e){let r=JSON.parse(e);"error"==r.status?window.setTimeout(function(){jQuery("#install-form, #install-form-alert").hide(),jQuery("#install-form > div, #install-forward, #install-progress").show(),jQuery("#install-form-alert > span").html(r.message),jQuery("#install-progress").slideUp(400,function(){jQuery("#install-forward").removeAttr("disabled"),jQuery("#install-form").slideDown(400,function(e){jQuery("#install-form-alert").slideDown(400)})})},1500):"success"==r.status&&window.setTimeout(function(){jQuery("#install-progress").fadeOut(400,function(){jQuery("#install-done").fadeIn(400),window.setTimeout(function(){window.location.href=jQuery("#input_baseuri").val()+"dashboard"},3e3)})},1e3)}else console.log("error")},fail:function(e,r,t){jQuery("#install-progress").slideUp(400),console.log(e),console.log(r),alert(t)}})})}function pageLogin(){function e(){jQuery("#login-alert").is(":visible")&&jQuery("#login-alert").slideToggle(),jQuery.ajax({url:forward.ajax,type:"post",data:jQuery("#login-form").serialize(),success:function(e){"s01"==e?location.reload():jQuery("#login-alert").slideToggle()},fail:function(e,r,t){jQuery("#login-alert").slideToggle()}})}consoleLog("The functions for page Login have been loaded."),jQuery("#passsword").on("change paste keyup",function(){let e=jQuery(this).val(),r=zxcvbn(e);""!==e?jQuery(".def_password--strength").html("Strength: <strong>"+{0:"Worst â˜¹",1:"Bad â˜¹",2:"Weak â˜¹",3:"Good ðŸ™ƒ",4:"Strong ðŸ™‚"}[r.score]+"</strong><br/><span class='feedback'>"+r.feedback.warning+" "+r.feedback.suggestions+"</span"):jQuery(".def_password--strength").html("")}),jQuery("#button-form").on("click",function(r){r.preventDefault(),e()}),jQuery("#login-form").on("submit",function(r){r.preventDefault(),e()})}function pageDashboard(){consoleLog("The functions for page Dashboard have been loaded."),isMobile()||(jQuery("body").css("display","initial"),jQuery("#rdev-dashboard").css("height",jQuery("#forward").outerHeight()-jQuery(".navbar").outerHeight()+"px"));let e=!1;function r(){jQuery("#links-copied").is(":hidden")&&(jQuery("#links-copied").slideToggle(),window.setTimeout(function(){jQuery("#links-copied").slideToggle(400,function(){jQuery("#links-copied").hide()})},3e3))}jQuery(document).keydown(function(r){17==r.which&&(e=!0)}),jQuery(document).keyup(function(){e=!1}),jQuery(".shorted-url").on("click",function(e){e.preventDefault()}),jQuery(".links-card").on("click",function(r){r.preventDefault(),jQuery(this).data().id in records&&(console.log(records),l(jQuery(this).data().id)),e&&consoleLog("Links card pressed with ctrl button.")});let t=new ClipboardJS(".shorted-url"),o=new ClipboardJS(".links-card"),n=new ClipboardJS("#preview-record-copy > button");function s(e,r){if("geoip"in forward){let r="json/";jQuery.getJSON(forward.geoip+r+e,function(e){console.log(e)})}}function a(e){let r=isMobile(),t=new Chartist.Bar(".ct-chart",{labels:bar_chart_labels,series:[e]},{fullWidth:!0,height:bar_chart_height,axisX:{position:"start",labelInterpolationFnc:function(e,t){return r?t%3==0?e:null:e}},axisY:{position:"end"}}),o=0;t.on("created",function(){o=0}),t.on("draw",function(e){if(o++,"label"===e.type&&"x"===e.axis.units.pos)e.element.animate({y:{begin:10*o,dur:500,from:e.y-100,to:e.y,easing:"easeOutQuart"},opacity:{begin:10*o,dur:500,from:0,to:1,easing:"easeOutQuart"}});else if("label"===e.type&&"y"===e.axis.units.pos)e.element.animate({x:{begin:10*o,dur:500,from:e.x+100,to:e.x,easing:"easeOutQuart"},opacity:{begin:10*o,dur:500,from:0,to:1,easing:"easeOutQuart"}});else if("bar"===e.type)e.element.animate({y1:{begin:10*o,dur:500,from:0,to:e.y1,easing:"easeOutQuart"},opacity:{begin:10*o,dur:500,from:0,to:1,easing:"easeOutQuart"}});else if("grid"===e.type){let r={begin:10*o,dur:500,from:e[e.axis.units.pos+"1"]-30,to:e[e.axis.units.pos+"1"],easing:"easeOutQuart"},t={begin:10*o,dur:500,from:e[e.axis.units.pos+"2"]-100,to:e[e.axis.units.pos+"2"],easing:"easeOutQuart"},n={};n[e.axis.units.pos+"1"]=r,n[e.axis.units.pos+"2"]=t,n.opacity={begin:10*o,dur:500,from:0,to:1,easing:"easeOutQuart"},e.element.animate(n)}})}function i(e,r,t,o,n,s,a,i){let l=["a","b","c","d","e","f","g","h","i","j","k","l","m"];jQuery(".pie-browsers-labels").empty();for(let r=0;r<e.length;r++)jQuery(".pie-browsers-labels").append('<li class="pie-browsers-label-'+l[r]+'">'+e[r]+"</li>");let u=new Chartist.Pie(".pie-browsers",{series:r},{fullWidth:!0,donut:!0,showLabel:!1});u.on("created",function(e){jQuery(".pie-browsers .ct-series").on("mouseover",function(){let e=jQuery(this).attr("class").split(" ")[1].substr(10);jQuery(this).addClass("ct-hover"),jQuery(".pie-browsers-label-"+e).addClass("li-hover");let r=jQuery(this).children("path").attr("ct:value");.1!=r&&jQuery("#pie-browsers-count").html(r)}),jQuery(".pie-browsers .ct-series").on("mouseout",function(){jQuery(".pie-browsers .ct-series").removeClass("ct-hover"),jQuery(".pie-browsers-labels > li").removeClass("li-hover"),jQuery("#pie-browsers-count").empty()})}),u.on("draw",function(e){if("slice"===e.type){let r=e.element._node.getTotalLength();e.element.attr({"stroke-dasharray":r+"px "+r+"px"});let t={"stroke-dashoffset":{id:"anim"+e.index,dur:500,from:-r+"px",to:"0px",easing:Chartist.Svg.Easing.easeOutQuint,fill:"freeze"}};0!==e.index&&(t["stroke-dashoffset"].begin="anim"+(e.index-1)+".end"),e.element.attr({"stroke-dashoffset":-r+"px"}),e.element.animate(t,!1)}}),jQuery(".pie-platforms-labels").empty();for(let e=0;e<t.length;e++)jQuery(".pie-platforms-labels").append('<li class="pie-platforms-label-'+l[e]+'">'+t[e]+"</li>");let c=new Chartist.Pie(".pie-platforms",{series:o},{fullWidth:!0,donut:!0,showLabel:!1});c.on("created",function(e){jQuery(".pie-platforms .ct-series").on("mouseover",function(){let e=jQuery(this).attr("class").split(" ")[1].substr(10);jQuery(this).addClass("ct-hover"),jQuery(".pie-platforms-label-"+e).addClass("li-hover");let r=jQuery(this).children("path").attr("ct:value");.1!=r&&jQuery("#pie-platforms-count").html(r)}),jQuery(".pie-platforms .ct-series").on("mouseout",function(){jQuery(".pie-platforms .ct-series").removeClass("ct-hover"),jQuery(".pie-platforms-labels > li").removeClass("li-hover"),jQuery("#pie-platforms-count").empty()})}),c.on("draw",function(e){if("slice"===e.type){let r=e.element._node.getTotalLength();e.element.attr({"stroke-dasharray":r+"px "+r+"px"});let t={"stroke-dashoffset":{id:"anim"+e.index,dur:500,from:-r+"px",to:"0px",easing:Chartist.Svg.Easing.easeOutQuint,fill:"freeze"}};0!==e.index&&(t["stroke-dashoffset"].begin="anim"+(e.index-1)+".end"),e.element.attr({"stroke-dashoffset":-r+"px"}),e.element.animate(t,!1)}}),new Chartist.Bar(".bar-origins",{labels:a,series:[i]},{height:250,fullWidth:!0,seriesBarDistance:0,reverseData:!0,horizontalBars:!0,axisX:{onlyInteger:!0},axisY:{showGrid:!1,showLabel:!1},plugins:[Chartist.plugins.ctBarLabels({position:{x:function(e){return e.x1+10}},labelOffset:{y:7},labelInterpolationFnc:function(e){return e}},a)]}),new Chartist.Bar(".bar-languages",{labels:n,series:[s]},{height:250,fullWidth:!0,seriesBarDistance:0,reverseData:!0,horizontalBars:!0,axisX:{onlyInteger:!0},axisY:{showGrid:!1,showLabel:!1},plugins:[Chartist.plugins.ctBarLabels({position:{x:function(e){return e.x1+10}},labelOffset:{y:7},labelInterpolationFnc:function(e){return e}},n)]})}function l(e){if(!(e in records))return console.log("fillRecordData, - the specified record ["+e+"] does not exist in the object 'let records'"),"";e=records[e],console.log(e);let r=new Date(e[6]);r=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2),jQuery("#preview-record-date").html(r),jQuery("#preview-record-slug").html("/"+e[3]),jQuery("#preview-record-url").html(e[4]),jQuery("#preview-record-url").attr("href",e[4]),jQuery("#preview-record-copy > button").attr("data-clipboard-text",forward.baseurl+e[3]),jQuery("#preview-record-copy > button").attr("data-record-id",e[0]),jQuery("#preview-record-share > button").attr("data-record-url",e[4]),jQuery("#preview-record-delete > button").attr("data-record-id",e[0]),jQuery("#confirm-delete-record").attr("data-record-id",e[0]),jQuery("#preview-record-user").attr("href",forward.baseurl+"users/"+e[1]);for(let r=0;r<users.length;r++)users[r][0]==e[1]&&jQuery("#preview-record-user").html(users[r][1]);(function(e,r){let t=e;jQuery.ajax({url:forward.ajax,type:"post",data:{action:"get_record_data",nonce:forward.getrecord,input_record_id:t},success:function(e){if(console.log(e),jsonParse(e)){let r=JSON.parse(e);(function(e){console.log(e);let r=Object.keys(e.agents),t=[],o=[];for(let n=0;n<r.length;n++)t.push(agentTranslator(visitor_data.agents[r[n]])),o.push(e.agents[r[n]]);let n=Object.keys(e.platforms),l=[],u=[];for(let r=0;r<n.length;r++)l.push(platformTranslator(visitor_data.platforms[n[r]])),u.push(e.platforms[n[r]]);let c=Object.keys(e.languages),d=[],p=[];for(let r=0;r<c.length;r++)d.push(languageTranslator(visitor_data.languages[c[r]])),p.push(e.languages[c[r]]);let f=Object.keys(e.origins),g=[],y=[];for(let r=0;r<f.length;r++)g.push(originTranslator(visitor_data.origins[f[r]])),y.push(e.origins[f[r]]);let h=Object.keys(e.ip);for(let e=0;e<h.length;e++)""!=h[e]&&(s(h[e]),jQuery("#records-ip-list").append('<tr><th scope="row">'+(e+1)+"</th><td>"+h[e]+'</td><td class="ip-lookup-'+e+'">---</td></tr>'));a(e.days),i(t,o,l,u,d,p,g,y)})(r)}else i([""],[.1],[""],[.1]),a([])},fail:function(e,r,t){console.log(e),console.log(r),console.log(t)}})})(e[0])}function u(){jQuery("#add-alert").is(":visible")&&jQuery("#add-alert").slideToggle(400,function(){jQuery("#add-alert").hide()}),jQuery("#add-success").is(":visible")&&jQuery("#add-success").slideToggle(400,function(){jQuery("#add-success").hide()}),jQuery.ajax({url:forward.ajax,type:"post",data:jQuery("#add-record-form").serialize(),success:function(e){if("s01"==e){jQuery("#add-success").slideToggle(),jQuery("#total_records_count").html(parseInt(jQuery("#total_records_count").html())+1);let e=jQuery("#input-record-slug").val();""==e&&(e=jQuery("#input-rand-value").val());let r=forward.baseurl+e,t=jQuery("#input-record-url").val(),o=jQuery("#input-record-url").val(),n=new Date;n=n.getFullYear()+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+("0"+n.getDate()).slice(-2),jQuery("#records_list div:nth-child(2)").after('<div class="card links-card" data-clipboard-text="'+r+'"><div class="card-body"><div><small>'+n+'</small><h2><a target="_blank" rel="noopener" class="overflow-url" href="'+r+'">/'+e+'</a></h2><p><a target="_blank" rel="noopener" href="'+o+'">'+t+"...</a></p></div><span>0</span></div></div>"),window.setTimeout(function(){jQuery("#add-success").slideToggle(400,function(){jQuery("#add-success").hide()})},3e3)}else{let r=__T("e1");"e07"==e?r=__T("e7"):"e08"==e?r=__T("e8"):"e10"==e&&(r=__T("e10")),jQuery("#error_text").html(r),jQuery("#add-alert").slideToggle()}console.log(e)},fail:function(e,r,t){console.log(e),console.log(r),console.log(t),jQuery("#add-alert").slideToggle()}})}t.on("success",function(e){r()}),o.on("success",function(e){r()}),n.on("success",function(e){r()}),jQuery("#add-record-form").on("submit",function(e){e.preventDefault(),u()}),jQuery("#add-record-send").on("click",function(e){e.preventDefault(),u()}),jQuery("#delete-selected-record").on("click",function(e){e.preventDefault(),jQuery("#delete-record-alert").is(":hidden")&&jQuery("#delete-record-alert").slideToggle()}),jQuery("#cancel-delete-record").on("click",function(e){e.preventDefault(),jQuery("#delete-record-alert").is(":visible")&&jQuery("#delete-record-alert").slideToggle()}),jQuery("#confirm-delete-record").on("click",function(e){let r=jQuery(this).data("recordId");jQuery.ajax({url:forward.ajax,type:"post",data:{action:"remove_record",nonce:forward.removerecord,input_record_id:r},success:function(e){console.log(e),"s01"==e&&(jQuery(".record-"+r).is(":visible")&&jQuery(".record-"+r).slideToggle(400,function(){jQuery(".record-"+r).remove();let e=jQuery("#records_list div:nth-child(3)").attr("class").split(" ")[2];console.log(records[parseInt(e.substr(7))]),l(parseInt(e.substr(7)))}),jQuery("#delete-record-alert").is(":visible")&&jQuery("#delete-record-alert").slideToggle())},fail:function(e,r,t){console.log(e),console.log(r),console.log(t)}})}),Object.keys(records).length>0&&l(Object.keys(records)[Object.keys(records).length-1])}Array.prototype.forEach||(Array.prototype.forEach=function(e){let r=this.length;if("function"!=typeof e)throw new TypeError;for(let t=arguments[1],o=0;r>o;o++)o in this&&e.call(t,this[o],o,this)}),console.log("==============================\nForward \nversion: "+forward.version+"\nCopyright Â© 2019-2020 RapidDev\nhttps://rdev.cc/\n=============================="),document.addEventListener("DOMContentLoaded",function(){if(forward.usernonce!=jQuery("head").attr("user-nonce"))throw console.log(forward),"install"==forward.page&&themeFunctions(),new Error("User nonce compliance not detected.!");consoleLog("JavaScript loaded successfully"),consoleLog("Base url: "+forward.baseurl),"home"!=forward.pagenow&&consoleLog("Ajax gate: "+forward.ajax),consoleLog("Page now: "+forward.pagenow),consoleLog("Nonce: "+forward.usernonce),themeFunctions()}),jQuery("#show_hide_password a").on("click",function(e){e.preventDefault(),"text"==jQuery("#show_hide_password input").attr("type")?jQuery("#show_hide_password input").attr("type","password"):"password"==jQuery("#show_hide_password input").attr("type")&&jQuery("#show_hide_password input").attr("type","text")}),function(e,r,t){"use strict";let o={labelClass:"ct-bar-label",labelInterpolationFnc:t.noop,labelOffset:{x:0,y:0},position:{x:null,y:null}};t.plugins=t.plugins||{},t.plugins.ctBarLabels=function(e,r){let n=(e=t.extend({},o,e)).position.x||function(r){return(r.x1+r.x2)/2+e.labelOffset.x},s=e.position.y||function(r){return(r.y1+r.y2)/2+e.labelOffset.y};return function(o){o instanceof t.Bar&&o.on("draw",function(t){"bar"===t.type&&t.group.elem("text",{x:n(t),y:s(t),style:"text-anchor: start"},e.labelClass+" ct-bar-label-"+t.index).text(e.labelInterpolationFnc(r[t.index]))})}}}(window,document,Chartist);