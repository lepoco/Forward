/*!
  * Forward 2.0.0 (https://github.com/rapiddev/Forward)
  * Copyright 2018-2020 RapidDev
  * Licensed under MIT (https://github.com/rapiddev/Forward/blob/master/LICENSE)
  */

function jsonParse(e){return""!=e&&!!/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))}function consoleLog(e,r="#fff"){console.log("%cForward: %c"+e,"color:#dc3545;font-weight: bold;","color: "+r)}function __T(e){return"undefined"==typeof translator?e:0==translator.length?e:e in translator?translator[e]:e}function platformTranslator(e){switch(e){case __T("unknown"):return"Unknown";case"windows_10":return"Windows 10";case"windows_81":return"Windows 8.1";case"windows_8":return"Windows 8";case"windows_7":return"Windows 7";case"windows_vista":return"Windows Vista";case"windows_xp":return"Windows XP";case"windows":return"Windows (?)";case"windows_ce":return"Windows CE";case"apple":return"Apple iMac / MacBook";case"linux":return"Linux";case"os_2":return"OS/2";case"beos":return"BeOS";case"iphone":return"Apple iPhone";case"ipod":return"Apple iPod";case"ipad":return"Apple iPad";case"apple_tv":return"Apple TV";case"blackberry":return"BlackBerry";case"nokia":return"Nokia";case"freebsd":return"FreeBSD";case"openbsd":return"OpenBSD";case"netbsd":return"NetBSD";case"sunos":return"SunOS";case"opensolaris":return"Open Solaris";case"android":return"Android";case"sony_playstation":return"Sony PlayStation";case"roku":return"Roku";case"terminal":return"Terminal";case"fire_os":return"Fire OS";case"smart_tv":return"Smart TV";case"chrome_os":return"Chrome OS";case"java_android":return"Java / Android";case"postman":return"Postman";case"iframely":return"iFramely";default:return e}}function agentTranslator(e){switch(e){case __T("unknown"):return"Unknown";case"chrome":return"Google Chrome";case"edge":return"MS Edge";case"internet_explorer":return"MS Internet Explorer";default:return e}}function themeFunctions(){consoleLog("The main functions of the theme have loaded correctly."),"install"==forward.pagenow?pageInstall():"dashboard"==forward.pagenow?pageDashboard():"login"==forward.pagenow?pageLogin():consoleLog("This page has no special functions.")}function pageInstall(){consoleLog("The functions for page Install have been loaded."),jQuery("#input_user_password").on("change paste keyup",function(){let e=jQuery(this).val(),r=zxcvbn(e);""!==e?jQuery(".def_password--strength").html("Strength: <strong>"+{0:"Worst â˜¹",1:"Bad â˜¹",2:"Weak â˜¹",3:"Good ðŸ™ƒ",4:"Strong ðŸ™‚"}[r.score]+"</strong><br/><span class='feedback'>"+r.feedback.warning+" "+r.feedback.suggestions+"</span"):jQuery(".def_password--strength").html("")}),jQuery("#install-forward").on("click",function(e){e.preventDefault(),jQuery("#install-forward").attr("disabled","disabled"),jQuery("#install-form > div, #install-forward, #install-form-alert").fadeOut(200),jQuery("#install-form").slideUp(400,function(){jQuery("#install-progress").slideDown(400)}),jQuery.ajax({url:forward.baseurl,type:"post",data:{action:"setup",input_scriptname:jQuery("#input_scriptname").val(),input_baseuri:jQuery("#input_baseuri").val(),input_db_name:jQuery("#input_db_name").val(),input_db_user:jQuery("#input_db_user").val(),input_db_host:jQuery("#input_db_host").val(),input_db_password:jQuery("#input_db_password").val(),input_user_name:jQuery("#input_user_name").val(),input_user_password:jQuery("#input_user_password").val()},success:function(e){if(console.log(e),jsonParse(e)&&null!=e){let r=JSON.parse(e);"error"==r.status?window.setTimeout(function(){jQuery("#install-form, #install-form-alert").hide(),jQuery("#install-form > div, #install-forward, #install-progress").show(),jQuery("#install-form-alert > span").html(r.message),jQuery("#install-progress").slideUp(400,function(){jQuery("#install-forward").removeAttr("disabled"),jQuery("#install-form").slideDown(400,function(e){jQuery("#install-form-alert").slideDown(400)})})},1500):"success"==r.status&&window.setTimeout(function(){jQuery("#install-progress").fadeOut(400,function(){jQuery("#install-done").fadeIn(400),window.setTimeout(function(){window.location.href=jQuery("#input_baseuri").val()+"dashboard"},3e3)})},1e3)}else console.log("error")},fail:function(e,r,o){jQuery("#install-progress").slideUp(400),console.log(e),console.log(r),alert(o)}})})}function pageLogin(){function e(){jQuery("#login-alert").is(":visible")&&jQuery("#login-alert").slideToggle(),jQuery.ajax({url:forward.ajax,type:"post",data:jQuery("#login-form").serialize(),success:function(e){"s01"==e?location.reload():jQuery("#login-alert").slideToggle()},fail:function(e,r,o){jQuery("#login-alert").slideToggle()}})}consoleLog("The functions for page Login have been loaded."),jQuery("#passsword").on("change paste keyup",function(){let e=jQuery(this).val(),r=zxcvbn(e);""!==e?jQuery(".def_password--strength").html("Strength: <strong>"+{0:"Worst â˜¹",1:"Bad â˜¹",2:"Weak â˜¹",3:"Good ðŸ™ƒ",4:"Strong ðŸ™‚"}[r.score]+"</strong><br/><span class='feedback'>"+r.feedback.warning+" "+r.feedback.suggestions+"</span"):jQuery(".def_password--strength").html("")}),jQuery("#button-form").on("click",function(r){r.preventDefault(),e()}),jQuery("#login-form").on("submit",function(r){r.preventDefault(),e()})}function pageDashboard(){consoleLog("The functions for page Dashboard have been loaded."),jQuery("html").height()>992&&(jQuery("body").css("display","initial"),jQuery("#rdev-dashboard").css("height",jQuery("#forward").outerHeight()-jQuery(".navbar").outerHeight()+"px"));let e=!1;function r(){jQuery("#links-copied").is(":hidden")&&(jQuery("#links-copied").slideToggle(),window.setTimeout(function(){jQuery("#links-copied").slideToggle(400,function(){jQuery("#links-copied").hide()})},3e3))}jQuery(document).keydown(function(r){17==r.which&&(e=!0)}),jQuery(document).keyup(function(){e=!1}),jQuery(".shorted-url").on("click",function(e){e.preventDefault()}),jQuery(".links-card").on("click",function(r){r.preventDefault(),jQuery(this).data().id in records&&(console.log(records),s(records[jQuery(this).data().id])),e&&consoleLog("Links card pressed with ctrl button.")});let o=new ClipboardJS(".shorted-url"),t=new ClipboardJS(".links-card");function s(e){console.log(e);let r=new Date(e[6]);r=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2),jQuery("#preview-record-date").html(r),jQuery("#preview-record-slug").html("/"+e[3]),jQuery("#preview-record-url").html(e[4]),jQuery("#preview-record-url").attr("href",e[4]),jQuery("#preview-record-copy > button").attr("data-clipboard-text",e[4]),jQuery("#preview-record-copy > button").attr("data-record-id",e[0]),jQuery("#preview-record-share > button").attr("data-record-url",e[4]),jQuery("#preview-record-delete > button").attr("data-record-id",e[0]),jQuery("#confirm-delete-record").attr("data-record-id",e[0]),jQuery("#preview-record-user").attr("href",forward.baseurl+"users/"+e[1]);for(let r=0;r<users.length;r++)users[r][0]==e[1]&&jQuery("#preview-record-user").html(users[r][1]);!function(e,r){let o=e;jQuery.ajax({url:forward.ajax,type:"post",data:{action:"get_record_data",nonce:forward.getrecord,input_record_id:o},success:function(e){if(jsonParse(e)){let o=JSON.parse(e);r(o)}},fail:function(e,r,o){console.log(e),console.log(r),console.log(o)}})}(e[0],function(e){let r=Object.keys(e.agents),o=[],t=[];for(let s=0;s<r.length;s++)o.push(agentTranslator(visitor_data.agents[r[s]])),t.push(e.agents[r[s]]);let s=Object.keys(e.platforms),n=[],a=[];for(let r=0;r<s.length;r++)n.push(platformTranslator(visitor_data.platforms[s[r]])),a.push(e.platforms[s[r]]);!function(e,r,o,t){let s=["a","b","c","d","e","f","g","h","i","j","k","l","m"];console.log(e),console.log(r),console.log(o),console.log(t),jQuery(".pie-browsers-labels").empty();for(var n=0;n<e.length;n++)jQuery(".pie-browsers-labels").append('<li class="pie-browsers-label-'+s[n]+'">'+e[n]+"</li>");let a=new Chartist.Pie(".pie-browsers",{series:r},{donut:!0,showLabel:!1});for(a.on("created",function(e){jQuery(".pie-browsers .ct-series").on("mouseover",function(){let e=jQuery(this).attr("class").split(" ")[1].substr(10);jQuery(this).addClass("ct-hover"),jQuery(".pie-browsers-label-"+e).addClass("li-hover")}),jQuery(".pie-browsers .ct-series").on("mouseout",function(){jQuery(".pie-browsers .ct-series").removeClass("ct-hover"),jQuery(".pie-browsers-labels > li").removeClass("li-hover")})}),a.on("draw",function(e){if("slice"===e.type){let r=e.element._node.getTotalLength();e.element.attr({"stroke-dasharray":r+"px "+r+"px"});let o={"stroke-dashoffset":{id:"anim"+e.index,dur:500,from:-r+"px",to:"0px",easing:Chartist.Svg.Easing.easeOutQuint,fill:"freeze"}};0!==e.index&&(o["stroke-dashoffset"].begin="anim"+(e.index-1)+".end"),e.element.attr({"stroke-dashoffset":-r+"px"}),e.element.animate(o,!1)}}),jQuery(".pie-platforms-labels").empty(),n=0;n<o.length;n++)jQuery(".pie-platforms-labels").append('<li class="pie-platforms-label-'+s[n]+'">'+o[n]+"</li>");let l=new Chartist.Pie(".pie-platforms",{series:t},{donut:!0,showLabel:!1});l.on("created",function(e){jQuery(".pie-platforms .ct-series").on("mouseover",function(){let e=jQuery(this).attr("class").split(" ")[1].substr(10);jQuery(this).addClass("ct-hover"),jQuery(".pie-platforms-label-"+e).addClass("li-hover")}),jQuery(".pie-platforms .ct-series").on("mouseout",function(){jQuery(".pie-platforms .ct-series").removeClass("ct-hover"),jQuery(".pie-platforms-labels > li").removeClass("li-hover")})}),l.on("draw",function(e){if("slice"===e.type){let r=e.element._node.getTotalLength();e.element.attr({"stroke-dasharray":r+"px "+r+"px"});let o={"stroke-dashoffset":{id:"anim"+e.index,dur:500,from:-r+"px",to:"0px",easing:Chartist.Svg.Easing.easeOutQuint,fill:"freeze"}};0!==e.index&&(o["stroke-dashoffset"].begin="anim"+(e.index-1)+".end"),e.element.attr({"stroke-dashoffset":-r+"px"}),e.element.animate(o,!1)}})}(o,t,n,a)})}o.on("success",function(e){r()}),t.on("success",function(e){r()}),jQuery(function(){function e(){jQuery("#add-alert").is(":visible")&&jQuery("#add-alert").slideToggle(400,function(){jQuery("#add-alert").hide()}),jQuery("#add-success").is(":visible")&&jQuery("#add-success").slideToggle(400,function(){jQuery("#add-success").hide()}),jQuery.ajax({url:forward.ajax,type:"post",data:jQuery("#add-record-form").serialize(),success:function(e){if("s01"==e){jQuery("#add-success").slideToggle(),jQuery("#total_records_count").html(parseInt(jQuery("#total_records_count").html())+1);let e=jQuery("#input-record-slug").val();""==e&&(e=jQuery("#input-rand-value").val());let r=forward.baseurl+e,o=jQuery("#input-record-url").val(),t=jQuery("#input-record-url").val(),s=new Date;s=s.getFullYear()+"-"+("0"+(s.getMonth()+1)).slice(-2)+"-"+("0"+s.getDate()).slice(-2),jQuery("#records_list div:nth-child(2)").after('<div class="card links-card" data-clipboard-text="'+r+'"><div class="card-body"><div><small>'+s+'</small><h2><a target="_blank" rel="noopener" href="'+r+'">/'+e+'</a></h2><p><a target="_blank" rel="noopener" href="'+t+'">'+o+"...</a></p></div><span>0</span></div></div>"),window.setTimeout(function(){jQuery("#add-success").slideToggle(400,function(){jQuery("#add-success").hide()})},3e3)}else{let r=__T("e1");"e07"==e?r=__T("e7"):"e08"==e?r=__T("e8"):"e10"==e&&(r=__T("e10")),jQuery("#error_text").html(r),jQuery("#add-alert").slideToggle()}console.log(e)},fail:function(e,r,o){console.log(e),console.log(r),console.log(o),jQuery("#add-alert").slideToggle()}})}jQuery("#add-record-form").on("submit",function(r){r.preventDefault(),e()}),jQuery("#add-record-send").on("click",function(r){r.preventDefault(),e()})}),jQuery("#delete-selected-record").on("click",function(e){e.preventDefault(),jQuery("#delete-record-alert").is(":hidden")&&jQuery("#delete-record-alert").slideToggle()}),jQuery("#cancel-delete-record").on("click",function(e){e.preventDefault(),jQuery("#delete-record-alert").is(":visible")&&jQuery("#delete-record-alert").slideToggle()}),jQuery("#confirm-delete-record").on("click",function(e){let r=jQuery(this).data("recordId");jQuery.ajax({url:forward.ajax,type:"post",data:{action:"remove_record",nonce:forward.getrecord,input_record_id:r},success:function(e){"s01"==e&&(jQuery(".record-"+r).is(":visible")&&jQuery(".record-"+r).slideToggle(400,function(){jQuery(".record-"+r).remove();let e=jQuery("#records_list div:nth-child(3)").attr("class").split(" ")[2];console.log(records[parseInt(e.substr(7))]),s(records[parseInt(e.substr(7))])}),jQuery("#delete-record-alert").is(":visible")&&jQuery("#delete-record-alert").slideToggle())},fail:function(e,r,o){console.log(e),console.log(r),console.log(o)}})}),Object.keys(records).length>0&&s(records[Object.keys(records).length])}Array.prototype.forEach||(Array.prototype.forEach=function(e){let r=this.length;if("function"!=typeof e)throw new TypeError;for(let o=arguments[1],t=0;t<r;t++)t in this&&e.call(o,this[t],t,this)}),console.log("==============================\nForward \nversion: "+forward.version+"\nCopyright Â© 2019-2020 RapidDev\nhttps://rdev.cc/\n=============================="),document.addEventListener("DOMContentLoaded",function(){if(forward.usernonce!=jQuery("head").attr("user-nonce"))throw console.log(forward),"install"==forward.page&&themeFunctions(),new Error("User nonce compliance not detected.!");consoleLog("JavaScript loaded successfully"),consoleLog("Base url: "+forward.baseurl),"home"!=forward.pagenow&&consoleLog("Ajax gate: "+forward.ajax),consoleLog("Page now: "+forward.pagenow),consoleLog("Nonce: "+forward.usernonce),themeFunctions()}),jQuery("#show_hide_password a").on("click",function(e){e.preventDefault(),"text"==jQuery("#show_hide_password input").attr("type")?jQuery("#show_hide_password input").attr("type","password"):"password"==jQuery("#show_hide_password input").attr("type")&&jQuery("#show_hide_password input").attr("type","text")});