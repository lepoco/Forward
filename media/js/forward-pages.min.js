function appendRecordToList(e,r,o,a,t){jQuery(".records-list__container").prepend('<div class="records-list__record record-'+e+'" data-clipboard-text="'+forward.baseurl+r+'" data-id="'+e+'"><p>/'+r+"</p><span>"+o+"</span><h4>"+t+"</h4></div>")}function pageInstall(){Forward.console("The functions for page Install have been loaded."),jQuery("#input_user_password").on("change paste keyup",function(){let e=jQuery(this).val(),r=zxcvbn(e);""!==e?jQuery(".def_password--strength").html("Strength: <strong>"+{0:"Worst â˜¹",1:"Bad â˜¹",2:"Weak â˜¹",3:"Good ðŸ™ƒ",4:"Strong ðŸ™‚"}[r.score]+"</strong><br/><span class='feedback'>"+r.feedback.warning+" "+r.feedback.suggestions+"</span"):jQuery(".def_password--strength").html("")}),jQuery("#install-forward").on("click",function(e){e.preventDefault(),jQuery("#install-forward").attr("disabled","disabled"),jQuery("#install-form > div, #install-forward, #install-form-alert").fadeOut(200),jQuery("#install-form").slideUp(400,function(){jQuery("#install-progress").slideDown(400)}),jQuery.ajax({url:forward.baseurl,type:"post",data:{action:"setup",input_scriptname:jQuery("#input_scriptname").val(),input_baseuri:jQuery("#input_baseuri").val(),input_db_name:jQuery("#input_db_name").val(),input_db_user:jQuery("#input_db_user").val(),input_db_host:jQuery("#input_db_host").val(),input_db_password:jQuery("#input_db_password").val(),input_user_name:jQuery("#input_user_name").val(),input_user_password:jQuery("#input_user_password").val()},success:function(e){if(console.log(e),Forward.isJson(e)&&null!=e){let r=JSON.parse(e);"error"==r.status?window.setTimeout(function(){jQuery("#install-form, #install-form-alert").hide(),jQuery("#install-form > div, #install-forward, #install-progress").show(),jQuery("#install-form-alert > span").html(r.message),jQuery("#install-progress").slideUp(400,function(){jQuery("#install-forward").removeAttr("disabled"),jQuery("#install-form").slideDown(400,function(e){jQuery("#install-form-alert").slideDown(400)})})},1500):"success"==r.status&&window.setTimeout(function(){jQuery("#install-progress").fadeOut(400,function(){jQuery("#install-done").fadeIn(400),window.setTimeout(function(){window.location.href=jQuery("#input_baseuri").val()+"dashboard"},3e3)})},1e3)}else console.log("error")},fail:function(e,r,o){jQuery("#install-progress").slideUp(400),console.log(e),console.log(r),alert(o)}})})}function pageLogin(){function e(){jQuery("#login-alert").is(":visible")&&jQuery("#login-alert").slideToggle(),jQuery.ajax({url:forward.ajax,type:"post",data:jQuery("#login-form").serialize(),success:function(e){"s01"==e?location.reload():jQuery("#login-alert").slideToggle()},fail:function(e,r,o){jQuery("#login-alert").slideToggle()}})}Forward.console("The functions for page Login have been loaded."),jQuery("#passsword").on("change paste keyup",function(){let e=jQuery(this).val(),r=zxcvbn(e);""!==e?jQuery(".def_password--strength").html("Strength: <strong>"+{0:"Worst â˜¹",1:"Bad â˜¹",2:"Weak â˜¹",3:"Good ðŸ™ƒ",4:"Strong ðŸ™‚"}[r.score]+"</strong><br/><span class='feedback'>"+r.feedback.warning+" "+r.feedback.suggestions+"</span"):jQuery(".def_password--strength").html("")}),jQuery("#button-form").on("click",function(r){r.preventDefault(),e()}),jQuery("#login-form").on("submit",function(r){r.preventDefault(),e()})}function pageDashboard(){Forward.console("The functions for page Dashboard have been loaded.");let e=new ClipboardJS(".dashboard__btn--copy-recent");e.on("success",function(e){Forward.toast(Forward.__("success"),"The link has been copied to your clipboard!",3e3,"success")});let r=["#696ffb","#7db8f9","#05478f","#00cccc","#6CA5E0","#1A76CA"];if(jQuery("#main-dashboard-chart").length){let e={type:"line",data:{labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of clicks",data:[12,19,3,5,2,3],backgroundColor:r[0],borderColor:r[0],borderWidth:1}]},options:{fill:!0,responsive:!0,maintainAspectRatio:!1,tension:.4,scales:{xAxes:[{display:!1,ticks:{reverse:!1,display:!1,beginAtZero:!1},gridLines:{drawBorder:!1,color:"#383e5d",zeroLineColor:"#383e5d"}}],yAxes:[{ticks:{max:25,min:0,fontColor:"#b9c0d3",beginAtZero:!1},gridLines:{color:"#383e5d",zeroLineColor:"#383e5d",display:!0,drawBorder:!1}}]},plugins:{legend:{display:!1}}}},o=document.getElementById("main-dashboard-chart").getContext("2d");new Chart(o,e)}if(jQuery("#dashboard-chart-origins").length){let e={type:"bar",data:{labels:["Facebook","Messenger","Google","YouTube","rdev.cc","4geek.co"],datasets:[{label:"# of clicks",data:[12,19,3,5,2,3],backgroundColor:r,borderColor:"transparent",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}}}},o=document.getElementById("dashboard-chart-origins").getContext("2d");new Chart(o,e)}if(jQuery("#dashboard-chart-languages").length){let e={type:"pie",data:{labels:["English","Polish","German","Green","Purple","Orange"],datasets:[{data:[12,19,3,5,2,3],backgroundColor:r,borderColor:"transparent",borderWidth:1}]},options:{fill:!0,responsive:!0,maintainAspectRatio:!0,tension:.4,plugins:{legend:{display:!1}}}},o=document.getElementById("dashboard-chart-languages").getContext("2d");new Chart(o,e)}if(jQuery("#dashboard-chart-platforms").length){let e={type:"pie",data:{labels:["English","Polish","German","Green","Purple","Orange"],datasets:[{data:[2,9,13,45,2,3],backgroundColor:r,borderColor:"transparent",borderWidth:1}]},options:{fill:!0,responsive:!0,maintainAspectRatio:!0,tension:.4,plugins:{legend:{display:!1}}}},o=document.getElementById("dashboard-chart-platforms").getContext("2d");new Chart(o,e)}if(jQuery("#dashboard-chart-browsers").length){let e={type:"pie",data:{labels:["English","Polish","German","Green","Purple","Orange"],datasets:[{data:[23,9,13,45,2,3],backgroundColor:r,borderColor:"transparent",borderWidth:1}]},options:{fill:!0,responsive:!0,maintainAspectRatio:!0,tension:.4,plugins:{legend:{display:!1}}}},o=document.getElementById("dashboard-chart-browsers").getContext("2d");new Chart(o,e)}jQuery(".records-list__record").on("click",function(e){let r=jQuery(this).data();if(1>r.id)return;let o=(a=r.id,jQuery.ajax({url:forward.ajax,type:"post",data:{action:"get_record_data",nonce:forward.getrecord,input_record_id:a},success:function(e){console.log(e),Forward.toast(Forward.__("error"),e,6e3,"alert")},fail:function(e,r,o){console.log(e),console.log(r),console.log(o),Forward.toast(Forward.__("error"),o,6e3,"alert")}}),!0);var a;console.log(o)}),jQuery(".forward-dashboard__add__form").on("submit",function(e){e.preventDefault(),Forward.console("New record via Standard Add");let r=jQuery("#input-dashboard-record-url").val();jQuery.ajax({url:forward.ajax,type:"post",data:jQuery(".forward-dashboard__add__form").serialize(),success:function(e){if("s01"==e){let e=jQuery("#input-dashboard-record-slug").val();""==e&&(e=jQuery("#input-dashboard-rand-value").val());let o=forward.baseurl+e,a=(jQuery("#input-record-url").val(),new Date);a=a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2),appendRecordToList(-1,e,r,o,0),Forward.toast(Forward.__("success"),"New record has been added",6e3,"success")}else{let r=Forward.__("e1");"e07"==e?r=Forward.__("e7"):"e08"==e?r=Forward.__("e8"):"e10"==e&&(r=Forward.__("e10")),Forward.toast(Forward.__("error"),r,6e3,"alert")}console.log(e)},fail:function(e,r,o){console.log(e),console.log(r),console.log(o),Forward.toast(Forward.__("error"),o,6e3,"alert")}})})}jQuery("#show_hide_password a").on("click",function(e){e.preventDefault(),"text"==jQuery("#show_hide_password input").attr("type")?jQuery("#show_hide_password input").attr("type","password"):"password"==jQuery("#show_hide_password input").attr("type")&&jQuery("#show_hide_password input").attr("type","text")}),jQuery("table.sortable").each(function(e){jQuery(this).tablesort()}),jQuery(".forward-header__navigation__form").on("submit",function(e){e.preventDefault(),Forward.console("New record via Quick Add");let r=jQuery("#input-record-url").val();jQuery.ajax({url:forward.ajax,type:"post",data:jQuery(".forward-header__navigation__form").serialize(),success:function(e){if("s01"==e){let e=jQuery("#input-record-slug").val();""==e&&(e=jQuery("#input-rand-value").val());let o=forward.baseurl+e,a=(jQuery("#input-record-url").val(),new Date);a=a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2),Forward.toast("Success!","New record has been added",6e3,"success"),"dashboard"==forward.pagenow&&appendRecordToList(-1,e,r,o,0)}else{let r=Forward.__("e1");"e07"==e?r=Forward.__("e7"):"e08"==e?r=Forward.__("e8"):"e10"==e&&(r=Forward.__("e10")),Forward.toast(Forward.__("error_qa"),r,6e3,"alert")}console.log(e)},fail:function(e,r,o){console.log(e),console.log(r),console.log(o),Forward.toast(Forward.__("error"),o,6e3,"alert")}})}),jQuery("#settings-form").on("submit",function(e){e.preventDefault(),jQuery.ajax({url:forward.ajax,type:"post",data:jQuery("#settings-form").serialize(),success:function(e){"s01"==e?Forward.toast(Forward.__("success"),"The settings have been saved!",6e3,"success"):Forward.toast(Forward.__("error"),"Settings could not be saved!",6e3,"alert"),console.log(e)},fail:function(e,r,o){console.log(e),console.log(r),console.log(o)}})});