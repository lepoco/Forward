"use strict";import Forward from"./core.min.js";export const name="forward-global";export default(jQuery("table.sortable").each(function(e){jQuery(this).tablesort()}),void Forward.console("[Module] Globals imported"));jQuery(".input-password-preview a").on("click",function(e){e.preventDefault();let r=jQuery(this).parent().parent(),a=r.children("input.input-password-preview__field");"text"==a.attr("type")?(a.attr("type","password"),r.addClass("password-hidden"),r.removeClass("password-visible")):"password"==a.attr("type")&&1>a.val().length&&(a.attr("type","text"),r.addClass("password-visible"),r.removeClass("password-hidden"))}),jQuery(".password_strength_control").each(function(e){let r=jQuery(this).data(),a="def_password--strength";"strengthTarget"in r&&(a=r.strengthTarget),jQuery(this).on("change paste keyup",function(){let e=jQuery(this).val(),r=zxcvbn(e);""!==e?jQuery("."+a).html(Forward.__("strength")+": <strong>"+{0:Forward.__("worst")+" â˜¹",1:Forward.__("bad")+" â˜¹",2:Forward.__("weak")+" â˜¹",3:Forward.__("good")+" ðŸ™ƒ",4:Forward.__("strong")+" ðŸ™‚"}[r.score]+"</strong><br/><span style='display:block;margin-bottom:.8rem;' class='feedback'>"+r.feedback.warning+" "+r.feedback.suggestions+"</span>"):jQuery("."+a).html("")})}),jQuery(".forward-header__navigation__form").on("submit",function(e){e.preventDefault(),Forward.console("New record via Quick Add");let r=jQuery("#input-record-url").val();Forward.ajax(jQuery(this).serialize(),function(e){if("s01"==e){let e=jQuery("#input-record-slug").val();""==e&&(e=jQuery("#input-rand-value").val()),forward.baseurl,jQuery("#input-record-url").val();let a=new Date;a=a.getFullYear()+"-"+("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2),Forward.toast("Success!","New record has been added",6e3,"success"),"dashboard"==forward.pagenow&&appendRecordToList(-1,e,r,0)}else{let r=Forward.__("e1");"e07"==e?r=Forward.__("e7"):"e08"==e?r=Forward.__("e8"):"e10"==e&&(r=Forward.__("e10")),Forward.toast(Forward.__("error_qa"),r,6e3,"alert")}console.log(e)})});